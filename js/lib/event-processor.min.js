(function(b,a){var c={};a(c);b.EV=c}(this,function(c){var b={},a=-1;c.listen=function(e,f){if(!e){console.log("No event passed. Abort.");return false}if(!f){console.log("No method passed. Abort.");return false}if(!b[e]){b[e]=[]}var d=(++a).toString();b[e].push({token:d,method:f});return d};c.stopListen=function(g){for(var h in b){if(b.hasOwnProperty(h)){if(b[h]){for(var f=0,d=b[h].length;f<d;f++){if(b[h][f].token===g){b[h].splice(f,1);return g}}}}}console.log("Token not found.");return false};c.removeListeners=function(d){if(!b[d]){console.log("Event not found.");return false}b[d]=[];return true};c.fire=function(d,e){if(!b[d]){return false}var f=b[d].slice();setTimeout(function(){f.forEach(function(g){g.method(e)})},0);return true}}));